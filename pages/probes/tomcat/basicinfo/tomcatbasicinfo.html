<!-- Main view  -->
<div class="row wrapper border-bottom white-bg page-heading">
    <div class="col-lg-10">
        <h2>{{'基本信息'|translate}}</h2>
        <ol class="breadcrumb">
            <li>
                <a ui-sref="rs.topview">{{'全景视图'|translate}}</a>
            </li>
            <li>
                <a ui-sref="rs.{{route}}({key: '{{key}}'})">{{title|translate}}</a>
            </li>
            <li class="active">
                <strong>{{'基本信息'|translate}}</strong>
            </li>
        </ol>
    </div>
    <div class="col-lg-2">

    </div>
</div>
<!--时间按钮-->
<div class="row">
    <div class="wrapper wrapper-content animated fadeInRight">
        <div class="col-lg-12">
            <form class="navbar-form pull-left">
                <ul class="nav">
                    <li>
                        <div>
                            <div class="btn-group btn-group-sm" style="margin-top:0px;width:100%;float:left;">
                                <button type="button" class="btn" ng-class="currentPeriod == period ? 'btn btn-primary' : 'btn'" ng-click="setPeriod( period )" ng-repeat="period in ['5m', '30m', '1h', '3h', '6h', '12h', '1d', '2d', '1w']">{{period == "5m" ? "Last " + period : period}}</button>
                            </div>
                        </div>
                    </li>
                </ul>
            </form>
        </div>
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>基本信息</h5>
                    <div ibox-tools></div>
                </div>
                <div class="ibox-content">
                <table class="table table-striped table-bordered table-hover dataTables-example">
                    <tbody>
                        <tr>
                            <td class="text-right">应用名</td>
                            <td>{{applicationName}}</td>
                            <td class="text-right">Agent 版本</td>
                            <td>{{agentVersion}}</td>
                        </tr>
                        <tr>
                            <td class="text-right">Agent Id</td>
                            <td>{{agentType}}</td>
                            <td class="text-right">PID</td>
                            <td>{{pid}}</td>
                        </tr>
                        <tr>
                            <td class="text-right">Host Name</td>
                            <td>{{hostName}}</td>
                            <td class="text-right">JVM (GC 类型)</td>
                            <td>{{jvmInfo.jvmVersion}} ({{jvmInfo.gcTypeName}})</td>
                        </tr>
                        <tr>
                            <td class="text-right">IP</td>
                            <td>{{ip}}</td>
                            <td class="text-right">启动时间</td>
                            <td>{{startTimestamp}}</td>
                        </tr>
                        <tr>
                            <td class="text-right">Service 类型</td>
                            <td>{{serverMetaData.serverInfo}}</td>
                            <td class="text-right">运行状态</td>
                            <td>{{status.state}} ({{status.eventTimestamp}})</td>
                        </tr>
                    </tbody>
                </table>
                </div>
            </div>

            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>服务器信息</h5>
                    <div ibox-tools></div>
                </div>
                <div class="ibox-content">
                    <table class="table table-striped table-bordered table-hover dataTables-example">
                        <tbody>
                        <tr>
                            <td class="col-lg-1 text-right">Server 信息</td>
                            <td>{{serverMetaData.serverInfo}}</td>
                        </tr>
                        <tr>
                            <td class="col-lg-1 text-right">JVM 参数</td>
                            <td>
                                <div slim-scroll box-height="200px">
                                    <p ng-repeat="vmArg in serverMetaData.vmArgs">
                                        {{vmArg}}
                                    </p>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="col-lg-1 text-right">Services</td>
                            <td class="text-left">
                                <div class="col">
                                    <div class="col-md-4 list-group">
                                        <a href="" class="list-group-item clearfix" ng-class="{active: currentServiceInfo == serviceInfo, disabled: serviceInfo.serviceLibs.length == 0}"
                                           ng-repeat="serviceInfo in serverMetaData.serviceInfos" style="padding:4px 10px" ng-click="selectServiceInfo(serviceInfo)">
                                            {{serviceInfo.serviceName}}
                                            <span class="pull-right" ng-show="serviceInfo.serviceLibs.length > 0">&gt;</span>
                                        </a>
                                    </div>
                                    <div style="overflow:auto;max-height:140px;margin-right:20px">
                                        <ul  >
                                            <li ng-repeat="serviceLib in currentServiceInfo.serviceLibs">{{serviceLib}}</li>
                                        </ul>
                                    </div>
                                </div>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
        <div class="col-lg-14">
            <div class="col-lg-12">
                <line-diagram url="/cpuload/{{key}}/"  current-period="{{currentPeriod}}"></line-diagram>
            </div>

            <div class="col-lg-6">
                <line2yaxis-diagram url="/jvmgc/{{key}}/" localtitle="NonHeap "  columns-selected="x,GC time,NonHeap Used,NonHeap Max" current-period="{{currentPeriod}}"></line2yaxis-diagram>
            </div>


            <div class="col-lg-6">
                <line2yaxis-diagram url="/jvmgc/{{key}}/" localtitle="Heap " columns-selected="x,GC time,Heap Used,Heap Max" current-period="{{currentPeriod}}"></line2yaxis-diagram>
            </div>

            <div class="col-lg-6">
                <line-diagram url="/transaction/{{key}}/" current-period="{{currentPeriod}}"></line-diagram>
            </div>

            <div class="col-lg-6">
                <line2yaxis-diagram url="/applicationresponsetime/{{key}}/" localtitle="" current-period="{{currentPeriod}}"></line2yaxis-diagram>
            </div>

        </div>
    </div>
</div>